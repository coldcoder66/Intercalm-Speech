<QuizScreen>:
    id: quizscreen
    QuizScreenCanvas:
        id: quizscreencanvas
        answer_buttons: [answer0, answer1, answer2, answer3]
        question_label: question_label
        guess_label: guess_label
        next_question_button: next_question_button
        FloatLayout:
            Image:
                source: 'assets/images/background.png'
                allow_stretch: True
                keep_ratio: False
                size_hint: (1, 1)
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
            Image:
                source: 'assets/images/newbg.webp'
                allow_stretch: True
                keep_ratio: False
                size_hint: (1, 1)
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
            Image:
                source: 'assets/images/quizlogo.webp'
                size_hint: (None, None)
                size: (2900, 2900)
                pos_hint: {"center_x": 0.5, "center_y": 0.68}
            Image:
                source: 'assets/images/milothemic.webp'
                size_hint: (None, None)
                size: (2900, 2900)
                pos_hint: {"center_x": 0.5, "center_y": 0.58}
            MDRaisedButton:
                size: (300, 70)
                pos_hint: {"x": 0, "top": 1}
                text: "Back"
                font_size: "24sp"
                md_bg_color: (0.737, 0.843, 0.953, 1)  # Custom color (light blue)
                text_color: (0.235, 0.337, 0.435, 1)
                font_name: 'assets/fonts/chalkboard-se-regular.ttf'
                on_press: app.root.current = 'home'
            BoxLayout:
                orientation: 'vertical'
                size_hint: (0.8, 0.8)
                pos_hint: {"center_x": 0.5, "center_y": 0.8}
                spacing: 20
                BoxLayout:
                    size_hint_y: None
                    height: 100
                    padding: 10
                    canvas.before:
                        Color:
                            rgba: (0.235, 0.337, 0.435, 1)  # Dark blue background
                        Rectangle:
                            size: self.size
                            pos: self.pos
                    Label:
                        id: question_label
                        text: "What is the term for public speaking"
                        font_size: "22sp"
                        font_name: "assets/fonts/chalkboard-se-regular.ttf"  # Set font to coffeehealing
                        color: (1, 1, 1, 1)  # White font
                        halign: "center"
                        valign: "middle"
                        size_hint_y: None
                        height: self.texture_size[1]

                GridLayout:
                    id: answergrid
                    cols: 1  # Display answers in a single column
                    size_hint: (0.8, None)  # Adjust width to 80% of the screen
                    height: self.minimum_height  # Dynamically adjust height based on content
                    spacing: 20  # Add spacing between rows
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}  # Center the GridLayout

                    BoxLayout:
                        orientation: "horizontal"
                        spacing: 20  # Add spacing between the button and text
                        size_hint: (1, None)
                        height: 120  # Fixed height for each row

                        Button:
                            id: answer0
                            text: "Public Speaking"  # Moved text to the button
                            font_size: "20sp"
                            font_name: "assets/fonts/chalkboard-se-regular.ttf"
                            background_normal: 'assets/images/raindrop.webp'  # Raindrop image
                            size_hint: (None, None)
                            size: (100, 100)  # Increased size for the raindrop
                            on_press: quizscreencanvas.submit_answer(0)

                    BoxLayout:
                        orientation: "horizontal"
                        spacing: 20
                        size_hint: (1, None)
                        height: 120

                        Button:
                            id: answer1
                            text: "Communication"  # Moved text to the button
                            font_size: "20sp"
                            font_name: "assets/fonts/chalkboard-se-regular.ttf"
                            background_normal: 'assets/images/raindrop.webp'
                            size_hint: (None, None)
                            size: (100, 100)
                            on_press: quizscreencanvas.submit_answer(1)

                    BoxLayout:
                        orientation: "horizontal"
                        spacing: 20
                        size_hint: (1, None)
                        height: 120

                        Button:
                            id: answer2
                            text: "Debate"  # Moved text to the button
                            font_size: "20sp"
                            font_name: "assets/fonts/chalkboard-se-regular.ttf"
                            background_normal: 'assets/images/raindrop.webp'
                            size_hint: (None, None)
                            size: (100, 100)
                            on_press: quizscreencanvas.submit_answer(2)

                    BoxLayout:
                        orientation: "horizontal"
                        spacing: 20
                        size_hint: (1, None)
                        height: 120

                        Button:
                            id: answer3
                            text: "Presentation"  # Moved text to the button
                            font_size: "20sp"
                            font_name: "assets/fonts/chalkboard-se-regular.ttf"
                            background_normal: 'assets/images/raindrop.webp'
                            size_hint: (None, None)
                            size: (100, 100)
                            on_press: quizscreencanvas.submit_answer(3)
                Button:
                    id: next_question_button
                    text: "Next Question"
                    font_size: "20sp"
                    color: (1, 1, 1, 1)  # White font
                    background_color: (0.235, 0.337, 0.435, 1)  # Optional blue button
                    size_hint_y: None
                    height: 50
                    on_press: quizscreencanvas.load_next_question_answer_set()
            Label:
                id: guess_label
                height: 50
            BoxLayout:
                orientation: "vertical"
                size_hint: (0.2, 1)  # Toolbar takes 20% of the screen width
                pos_hint: {"right": 1, "y": 0}  # Align to the right side of the screen
                spacing: 10
                padding: 10

                Label:
                    text: "Select Quiz"
                    font_size: "20sp"
                    size_hint_y: None
                    height: 50

                Button:
                    text: "Quiz 1"
                    size_hint_y: None
                    height: 50
                    on_press: quizscreencanvas.select_quiz("Quiz 1")

                Button:
                    text: "Quiz 2"
                    size_hint_y: None
                    height: 50
                    on_press: quizscreencanvas.select_quiz("Quiz 2")